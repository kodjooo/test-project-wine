1. Подготовка окружения и анализ требований — статус: выполнено.
   - Подробно изучить `docs/requirements.md`, текущую архитектуру и ограничения из `docs/arch-rules.md`.
   - Согласовать структуру проекта, определить необходимые пакеты, форматы конфигурации и схему взаимодействия модулей.
   - Проверить доступность секретов и подготовить шаблоны `.env` / `.env.example`.

2. Реализация модуля Crawler — статус: выполнено.
   - Настроить Playwright (Chromium) с обработкой окна подтверждения возраста.
   - Реализовать обход стартовой категории, сбор ссылок карточек и пагинацию с учётом задержек и ротации User-Agent.
   - Подготовить заготовку для метрик посещённых страниц.

3. Реализация модуля Parser — статус: выполнено.
   - Извлечь все требуемые поля карточки (title, sku, country, объём, крепость, цена, наличие, производитель и разделы).
   - Организовать резервный путь парсинга через отправку HTML-фрагментов в ИИ-агент при сложной вёрстке.
   - Преобразовать числовые значения (цена, объём, крепость) в стандартные типы и подготовить данные для нормализации.

4. Реализация модуля Normalizer и LLM-интеграции — статус: выполнено.
   - Настроить LLM-промпты для нормализации цены, объёма, крепости, извлечения текстов разделов и списков сортов.
   - Обработать логику определения возраста напитка и унификации стран/брендов.
   - Обеспечить fallback при недоступности LLM (использование исходных данных).

5. Реализация модуля Media Uploader — статус: выполнено.
   - Скачивать главное изображение, вычислять SHA-256 и проверять наличие в локальном кеше.
   - Интегрироваться с Google Drive API, загружать файлы в `GDRIVE_FOLDER_ID` и делать их публичными.
   - Возвращать ссылку для формулы `=IMAGE()` и сохранять связку хэш → file_id.

6. Реализация модуля Sheets Writer — статус: выполнено.
   - Подготовить структуру записи в Google Sheets, реализовать upsert по PRODUCT_URL.
   - Исключить повторную загрузку изображения при неизменном хэше.
   - Обновлять только изменившиеся поля и формировать статус строки (new/updated/skipped).

7. Реализация состояния и дедупликации — статус: выполнено.
   - Настроить SQLite в томе контейнера, описать таблицы `visited_urls` и `image_hashes`.
   - Обеспечить идемпотентность обработки карточек, хранить контрольные суммы и временные метки.
   - Интегрировать слой состояния с модулями Crawler, Media Uploader и Sheets Writer.

8. Телеметрия, устойчивость и конфигурация — статус: выполнено.
   - Реализовать логирование и счётчики (pages, products_total, inserted, updated, skipped, errors).
   - Настроить ретраи, таймауты, паузы между запросами и обработку ошибок Google API.
   - Поддержать конфигурацию через `.env` и `config.json`, документировать параметры.

9. Docker-окружение, тесты и документация — статус: выполнено.
   - Собрать финальный образ и сервис в `docker-compose.yml`, проверить запуск.
   - Разработать автотесты для ключевых модулей (crawler/parser/normalizer/state) и обновить данные в `tests`.
   - Актуализировать `.env.example`, `.env`, `docs/architecture.md` и `README.md` (развёртывание, запуск, требования).
